
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>沧笙踏歌</title>
  <meta name="author" content="文涛">

  
  <meta name="description" content="android-async-http （https://github.com/loopj/android-async-http） 功能： •基于HttpClient； •在UI线程外，异步进行http请求； •在匿名回调中处理请求结果， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://wentao1990.github.io/posts/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="沧笙踏歌" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><div class="header-left">
  <hgroup>
  <h1><a href="/">沧笙踏歌</a></h1>
  
  <div class="subtitle">
    <h2>静水流深，沧笙踏歌，如花美眷，只缘敢你一回顾，使我常思朝与暮。转身后，一缕香远，逝雪浅，春意浓，笑意深。</h2>
  </div>
  
  </hgroup>
  
</div>

<div class="header-right">
  <ul class="main-navigation">
 <div class="selected"> 
  <li><a href="/">博文</a></li></div><div class="spacer"></div>
     <div> 
  <li><a href="/projects">工程</a></li></div><div class="spacer"></div>
       <div> 
  <li><a href="/blog/archives">档案</a></li></div><div class="spacer"></div>
         <div> 
  <li><a href="/aboutme">关于</a></li></div>
</ul>




</div>
</header>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/06/android-026/">Android第三方网络请求框架总结</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-06T22:36:35+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h4>android-async-http （<a href="https://github.com/loopj/android-async-http">https://github.com/loopj/android-async-http</a>）</h4>

<p>功能：</p>

<p>•基于HttpClient；</p>

<p>•在UI线程外，异步进行http请求；</p>

<p>•在匿名回调中处理请求结果，callBback使用了Android的Handler发送消息机制在创建它的线程中执行；</p>

<p>•自动智能请求重试；</p>

<p>•持久化cookie存储，保存cookie到应用程序的SharedPreferences中；</p>

<p>开发者使用：</p>

<p>作者已经停止对该项目维护，在android 5.0 以后，不推荐使用HttpClient,所以不推荐使用此库。 </div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/10/06/android-026/">阅读更多 &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/09/28/android-025/">Android性能优化</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-28T19:50:35+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h4>网络相关优化</h4>

<p>1.http头信息带Cache-Control域，确定缓存过期时间，防止重复请求。</p>

<p>2.直接用IP直连，不用域名，策略性更新本地IP列表。-DNS解析过程耗时百毫秒左右，并且还有可能存在DNS劫持。</p>

<p>3.图片、JS、CSS等静态资源，采用CDN（7牛之类的第三方服务已经搭建部署好了）</p>

<p>4.全局图片处理采用漏斗模型全局掌控，所请求的图片大小依照业务大小提供（最大不超过屏幕分辨率需要），如果请求原图，也不要超过 GL10.GL_MAX_TEXTURE_SIZE。</p>

<p>5.全局缩略图直接采用webp，在尽可能不损失图片质量的前提下，图片大小与png缩小30%~70%。 </div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/09/28/android-025/">阅读更多 &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/09/23/android-025/">Service与 IntentService 的区别与使用场景</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-23T17:50:35+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h4>1.IntentService是继承自Service的</h4>

<h4>2.Service不是一个单独的进程 ，它和应用程序在同一个进程中。</h4>

<h4>3.Service不是一个线程，所以我们应该避免在Service里面进行耗时的操作</h4>

<h4>4.IntentService相对于Service来说，有几个非常有用的优点</h4>

<p>IntentService使用队列的方式将请求的Intent加入队列，然后开启一个worker thread(线程)来处理队列中的Intent，对于异步的startService请求，IntentService会处理完成一个之后再处理第二个，每一个请求都会在一个单独的worker thread中处理，不会阻塞应用程序的主线程，这里就给我们提供了一个思路，如果有耗时的操作与其在Service里面开启新线程还不如使用IntentService来处理耗时操作。 </div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/09/23/android-025/">阅读更多 &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/08/21/android-023/">IP/TCP/UDP/HTTP浅谈</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-21T18:46:25+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h4>前言：</h4>

<p>在世界上各地，各种各样的电脑运行着各自不同的操作系统为大家服务，这些电脑在表达同一种信息的时候所使用的方法是千差万别。就好像圣经中上帝打乱了各地人的口音，让他们无法合作一样。计算机使用者意识到，计算机只是单兵作战并不会发挥太大的作用。只有把它们联合起来，电脑才会发挥出它最大的潜力。于是人们就想方设法的用电线把电脑连接到了一起。但是简单的连到一起是远远不够的，就好像语言不同的两个人互相见了面，完全不能交流信息。因而他们需要定义一些共通的东西来进行交流，TCP/IP就是为此而生。TCP/IP不是一个协议，而是一个协议族的统称。里面包括了IP协议，IMCP协议，TCP协议，以及我们更加熟悉的http、ftp、pop3协议等等。电脑有了这些，就好像学会了外语一样，就可以和其他的计算机终端做自由的交流了。  </div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/08/21/android-023/">阅读更多 &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/08/12/android-022/">打造可以共用的Adapter</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-12T19:14:31+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>前言：</h3>

<p>在我们开发android项目中，会在多个地方使用ListView展示内容，然后每个ListView都要对应一个Adapter来装载数据。这样的话代码就会有许多的冗余，就算写个BaseAdapter抽取部分代码，也有很多的冗余代码避免不了，至少那十几个类文件是确确实实存在那的（取决于项目需求）。下面我们来一起打造一个共用的Adapter,一个搞定所有ListView的数据装载。</p>

<h5>传统的写法我就不贴出来了，自己回想一下大概就很清楚了。</h5>

<h3>第一步：打造共用的ViewHolder</h3>

<p>一个有经验的开发者在写Adapterd的时候是不会忘记写ViewHolder的，而ViewHolder无非就是item的复用，解决效率和负载问题。所以，若要打造一个共用的Adapter，那么一个共用的ViewHolder是必不可少的。</p>

<p>ViewHolder的原理是通过convertView.setTag(this)与convertView进行绑定,然后当convertView被复用时，直接通过getTag方法拿到ViewHolder对象，直接操作里面封装的convertView中的控件，从而省去了findViewById的时间。也就说，每个convertView都会绑定一个ViewHolder对象来存储布局中的控件。那么我们只要写出一个通用的ViewHolder，然后对于任意的convertView，提供一个对象让其setTag即可；</p>

<p> </div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/08/12/android-022/">阅读更多 &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="4">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="2">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  <section>
  <p>Hi ,我是 <a href="https://twitter.com/martinbjeldbak">武文涛</a>!</p>
  

  <p>你可以阅读更多关于我的信息 <a href="/about/">关于</a> 
  <p>Android开发者  产品经理 </p>
  <div class="social-icons">
    

    

    

    

    

  </div>
</section>

  <section>
  <h1>最新</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/04/08/android-024/">自定义任意形状的ImageView</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/11/02/android-image/">Android Image</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/19/pm-032/">如何快速搭建一个完整的移动直播系统？</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/09/android-031/">浅谈App安全</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/05/web-021/">熟悉网络端口</a>
      </li>
    
  </ul>
</section>

  
    <section>
  <h1>分类</h1>
    <ul id="category-list"><li class='category'><a href='/blog/categories/android/'>android (26)</a></li>
<li class='category'><a href='/blog/categories/db/'>db (1)</a></li>
<li class='category'><a href='/blog/categories/hardware/'>hardware (1)</a></li>
<li class='category'><a href='/blog/categories/pm/'>pm (2)</a></li>
<li class='category'><a href='/blog/categories/unity3d/'>unity3d (1)</a></li>
<li class='category'><a href='/blog/categories/web/'>web (2)</a></li>
</ul>
</section>
<section>
  <h1>最新</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/04/08/android-024/">自定义任意形状的ImageView</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/11/02/android-image/">Android Image</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/19/pm-032/">如何快速搭建一个完整的移动直播系统？</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/09/android-031/">浅谈App安全</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/05/web-021/">熟悉网络端口</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - 文涛 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

<p>
<span>Copyright &copy; 2017  文涛 -</span>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> using the <a href="https://github.com/fapper/classic-martinb">classic-martinb</a> theme</span>
</p>
</footer>
  











</body>
</html>
